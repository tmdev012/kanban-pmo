[meta]
version = 3.1.0
revision = 1
updated = 2026-02-17
author = tmdev012
csv_schema = id,enabled,trigger,paths,schedule,cache,lock,revert,gitignore,audit,payload,description

[defaults]
enabled = true
trigger = push
cache = none
lock = false
revert = none
audit = true
gitignore =
payload =

# --- card prefix: kanban CRUD lifecycle ---
[card.create]
paths = kanban/{backlog,open,wip}/TASK-*.md
description = Track new card creation

[card.close]
paths = kanban/closed/TASK-*.md
lock = true
payload = require_checked_criteria,require_docs_reference
description = Validate closed cards — criteria + docs required

[card.move]
paths = kanban/*/TASK-*.md
description = Track card column transitions

# --- sprint prefix: weekly cadence ---
[sprint.plan]
trigger = schedule
schedule = 0 8 * * 1
cache = sprint
description = Monday 8am UTC — sprint planning snapshot

[sprint.retro]
trigger = schedule
schedule = 0 16 * * 5
cache = sprint
description = Friday 4pm UTC — velocity + burndown

# --- doc prefix: documentation hygiene ---
[doc.sync]
paths = *.md,kanban/**/*.md,projects/**/*.md
cache = session
payload = check_readme_version,check_milestones,check_tracker
description = Validate docs stay in sync with code

# --- cred prefix: security ---
[cred.audit]
trigger = push,pr
paths = *
gitignore = .env,*.pem,*.key,id_rsa,id_ed25519
lock = true
payload = scan_tokens:sk-or-|ghp_|gho_|glpat-|AKIA
description = Credential leak scan — block secrets

# --- model prefix: ollama builds ---
[model.build]
paths = Modelfile*,*/Modelfile*
cache = session
payload = track_from,track_parameters
description = Track model creation events

# --- verify prefix: test execution ---
[verify.run]
trigger = dispatch
payload = test_id:all
description = Run VER-*.md verification cases

# --- git prefix: repo safety controls ---
[git.ignore]
paths = .gitignore
cache = session
gitignore = .env,*.pem,*.key,node_modules/,__pycache__/,*.pyc,.DS_Store
payload = enforce_patterns
description = Enforce gitignore — block forbidden files

[git.lock]
enabled = false
trigger = dispatch
lock = true
payload = locked_paths:kanban/closed/*
description = Patch freeze — lock paths from changes

[git.revert]
enabled = false
trigger = dispatch
revert = last
payload = target_ref:HEAD~1
description = Revert to state (commit, tag, or ref)

# --- cache policies (global) ---
[cache]
none.ttl = 0
sprint.ttl = 604800
session.ttl = 3600
audit_log = kanban/exports/audit.log
